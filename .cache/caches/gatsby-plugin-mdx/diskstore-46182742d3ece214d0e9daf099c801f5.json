{"expireTime":9007200851906807000,"key":"gatsby-plugin-mdx-entire-payload-d64bf28b87256c5d281c4fe94fe65304-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import AccentBox from \"../src/components/site/blog/accent-box.js\";","position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":67,"offset":68},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Im my previous post ","position":{"start":{"line":4,"column":1,"offset":72},"end":{"line":4,"column":21,"offset":92},"indent":[]}},{"type":"link","title":null,"url":"/first-look-at-redwoodjs","children":[{"type":"text","value":"First look at RedwoodJS","position":{"start":{"line":4,"column":22,"offset":93},"end":{"line":4,"column":45,"offset":116},"indent":[]}}],"position":{"start":{"line":4,"column":21,"offset":92},"end":{"line":4,"column":72,"offset":143},"indent":[]}},{"type":"text","value":" i took a look at Redwood with fresh eyes and documented what i found interesting. I did have an idea to just outline adding snipcart to a RedwoodJS project but as i went through the process and took notes i came to the conclusion that maybe a tutorial would be a better way to go.","position":{"start":{"line":4,"column":72,"offset":143},"end":{"line":4,"column":353,"offset":424},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":72},"end":{"line":4,"column":353,"offset":424},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So this is what you might call a simple tutorial, by that i mean that we are not going to make a full blown ecommerce website, rather we are going to setup a RedwoodJS site and add snipcart to it. By the end of this tutorial we will have a website up and running and be able to sell products. Lets GOOOOOOOO ðŸ•º","position":{"start":{"line":6,"column":1,"offset":428},"end":{"line":6,"column":311,"offset":738},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":428},"end":{"line":6,"column":311,"offset":738},"indent":[]}},{"type":"jsx","value":"<AccentBox>\n  This tutorial assumes that you have never used RedwoodJS, that you havent even\n  read my previous first look post!! OMG!\n</AccentBox>","position":{"start":{"line":8,"column":1,"offset":742},"end":{"line":11,"column":13,"offset":892},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The end result will look like this: ","position":{"start":{"line":13,"column":1,"offset":896},"end":{"line":13,"column":37,"offset":932},"indent":[]}},{"type":"link","title":null,"url":"https://redwood-snipcart.netlify.com/","children":[{"type":"text","value":"redwood-snipcart.netlify.com","position":{"start":{"line":13,"column":38,"offset":933},"end":{"line":13,"column":66,"offset":961},"indent":[]}}],"position":{"start":{"line":13,"column":37,"offset":932},"end":{"line":13,"column":106,"offset":1001},"indent":[]}},{"type":"text","value":", except we are going to go one better. We are going to add an admin route with CRUD operations that is accessed via sign up and login using Netlify Identity. ðŸ˜±","position":{"start":{"line":13,"column":106,"offset":1001},"end":{"line":13,"column":267,"offset":1162},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":896},"end":{"line":13,"column":267,"offset":1162},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"From the command line lets create our RedwoodJS project:","position":{"start":{"line":15,"column":1,"offset":1166},"end":{"line":15,"column":57,"offset":1222},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":1166},"end":{"line":15,"column":57,"offset":1222},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn create redwood-app <whatever-you-want-to-call-it>","position":{"start":{"line":17,"column":1,"offset":1226},"end":{"line":19,"column":4,"offset":1294},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Create a new repo in github and give it the same name you used when creating your RedwoodJS app. Now navigate into the projects root and create a git repo.","position":{"start":{"line":21,"column":1,"offset":1298},"end":{"line":21,"column":156,"offset":1453},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1298},"end":{"line":21,"column":156,"offset":1453},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"git init\ngit add .\ngit commit -m \"My first commit\"\ngit remote add origin <your-github-repo-url>\ngit push -u origin master","position":{"start":{"line":23,"column":1,"offset":1457},"end":{"line":29,"column":4,"offset":1596},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Base layout and project files","position":{"start":{"line":31,"column":5,"offset":1604},"end":{"line":31,"column":34,"offset":1633},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1600},"end":{"line":31,"column":34,"offset":1633},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We are going to use ","position":{"start":{"line":33,"column":1,"offset":1637},"end":{"line":33,"column":21,"offset":1657},"indent":[]}},{"type":"link","title":null,"url":"https://theme-ui.com/","children":[{"type":"text","value":"Theme-ui","position":{"start":{"line":33,"column":22,"offset":1658},"end":{"line":33,"column":30,"offset":1666},"indent":[]}}],"position":{"start":{"line":33,"column":21,"offset":1657},"end":{"line":33,"column":54,"offset":1690},"indent":[]}},{"type":"text","value":" to style our website because its super simple and powerful. Lets install it, remembering that we are working in yarn workspaces so we need to prefix our install with workspaces and the workspace we want to install the package in.","position":{"start":{"line":33,"column":54,"offset":1690},"end":{"line":33,"column":284,"offset":1920},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1637},"end":{"line":33,"column":284,"offset":1920},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn workspace web add theme-ui","position":{"start":{"line":35,"column":1,"offset":1924},"end":{"line":37,"column":4,"offset":1969},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now that we have theme-ui installed we need to add it to our project. In the index.js file located at the web projects root add the ThemeProvider component.","position":{"start":{"line":39,"column":1,"offset":1973},"end":{"line":39,"column":157,"offset":2129},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1973},"end":{"line":39,"column":157,"offset":2129},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"import ReactDOM from \"react-dom\";\nimport { RedwoodProvider, FatalErrorBoundary } from \"@redwoodjs/web\";\nimport FatalErrorPage from \"src/pages/FatalErrorPage\";\nimport { ThemeProvider } from \"theme-ui\";\nimport theme from \"./theme\";\n\nimport Routes from \"src/Routes\";\n\nimport \"./scaffold.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <FatalErrorBoundary page={FatalErrorPage}>\n      <RedwoodProvider>\n        <Routes />\n      </RedwoodProvider>\n    </FatalErrorBoundary>\n  </ThemeProvider>,\n  document.getElementById(\"redwood-app\")\n);","position":{"start":{"line":41,"column":1,"offset":2133},"end":{"line":63,"column":4,"offset":2732},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We are wrapping the ThemeProvider around our whole app so that everything gets our styles. But where are those styles coming from i hear you ask? That would be the theme.js file. Lets create that now inside our src directory.","position":{"start":{"line":65,"column":1,"offset":2736},"end":{"line":65,"column":226,"offset":2961},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":2736},"end":{"line":65,"column":226,"offset":2961},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"export default {\n  useCustomProperties: false,\n  fonts: {\n    body: \"Open Sans\",\n    heading: \"Montserrat\"\n  },\n  fontWeights: {\n    body: 300,\n    heading: 400,\n    bold: 700\n  },\n  lineHeights: {\n    body: \"110%\",\n    heading: 1.125,\n    tagline: \"100px\"\n  },\n  letterSpacing: {\n    body: \"2px\",\n    text: \"5px\"\n  },\n  colors: {\n    text: \"#FFFfff\",\n    background: \"#1a202c\",\n    primary: \"#000010\",\n    secondary: \"#E7E7E9\",\n    secondaryDarker: \"#2d3748\",\n    accent: \"#DE3C4B\"\n  },\n  breakpoints: [\"40em\", \"56em\", \"64em\"]\n};","position":{"start":{"line":67,"column":1,"offset":2965},"end":{"line":98,"column":4,"offset":3536},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Its all pretty self explanatory but if you need a reresh or have no idea what the hell this is then you can check our the ","position":{"start":{"line":100,"column":1,"offset":3540},"end":{"line":100,"column":123,"offset":3662},"indent":[]}},{"type":"link","title":null,"url":"https://theme-ui.com/theming","children":[{"type":"text","value":"Theme-ui docs","position":{"start":{"line":100,"column":124,"offset":3663},"end":{"line":100,"column":137,"offset":3676},"indent":[]}}],"position":{"start":{"line":100,"column":123,"offset":3662},"end":{"line":100,"column":168,"offset":3707},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":100,"column":168,"offset":3707},"end":{"line":100,"column":169,"offset":3708},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":3540},"end":{"line":100,"column":169,"offset":3708},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Ok nice. You don't need to run the project yet, lets do it blind and be surprised by the results!! Our standard RedwoodJS project gives us folders but not much else in the way of pages or components. Lets add our home page via the RedwoodJS CLI.","position":{"start":{"line":102,"column":1,"offset":3712},"end":{"line":102,"column":246,"offset":3957},"indent":[]}}],"position":{"start":{"line":102,"column":1,"offset":3712},"end":{"line":102,"column":246,"offset":3957},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn rw g page home /","position":{"start":{"line":104,"column":1,"offset":3961},"end":{"line":106,"column":4,"offset":3996},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"So what is going on here i hear you scream at the screen?? Well we are basically saying redwood (rw) can you generate (g) a page called home at route (/) which as we all know, because we are all professionals here, the root route.","position":{"start":{"line":108,"column":1,"offset":4000},"end":{"line":108,"column":231,"offset":4230},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":4000},"end":{"line":108,"column":231,"offset":4230},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"RedwoodJS will now generate two new files, one called HomePage (RedwoodJS prefixes the name we give in the command with page, because its nice like that) and a test file. Which passes! Of course this is just a render test and if we add more logic we should add tests for it in this file.","position":{"start":{"line":110,"column":1,"offset":4234},"end":{"line":110,"column":288,"offset":4521},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":4234},"end":{"line":110,"column":288,"offset":4521},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can leave the home page for a second and run some more RedwoodJS CLI commands because they are amazing and give us lots of stuff for free! All together now....","position":{"start":{"line":112,"column":1,"offset":4525},"end":{"line":112,"column":163,"offset":4687},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":4525},"end":{"line":112,"column":163,"offset":4687},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn rw g page contact\nyarn rw g layout main","position":{"start":{"line":114,"column":1,"offset":4691},"end":{"line":117,"column":4,"offset":4750},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We wont go through actually adding the contact form page in this tutorial but you can check the ","position":{"start":{"line":119,"column":1,"offset":4754},"end":{"line":119,"column":97,"offset":4850},"indent":[]}},{"type":"link","title":null,"url":"https://redwoodjs.com/tutorial/everyone-s-favorite-thing-to-build-forms","children":[{"type":"text","value":"RedwoodJS docs","position":{"start":{"line":119,"column":98,"offset":4851},"end":{"line":119,"column":112,"offset":4865},"indent":[]}}],"position":{"start":{"line":119,"column":97,"offset":4850},"end":{"line":119,"column":186,"offset":4939},"indent":[]}},{"type":"text","value":" to get a good idea of how to do it and why they are pretty sweet.","position":{"start":{"line":119,"column":186,"offset":4939},"end":{"line":119,"column":252,"offset":5005},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":4754},"end":{"line":119,"column":252,"offset":5005},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We have created a contact page and a layout which we have called main. Our MainLayout component which was created in a new folder called MainLayout will hold the layout to our website. This is a common pattern used in Gatsby where you create a layout component and import and wrap all other components that are children to it. Lets take a look at out MainLayout component.","position":{"start":{"line":121,"column":1,"offset":5009},"end":{"line":121,"column":373,"offset":5381},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":5009},"end":{"line":121,"column":373,"offset":5381},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"import { Container } from \"theme-ui\";\n\nconst MainLayout = ({ children }) => {\n  return (\n    <Container\n      sx={{\n        maxWidth: 1024\n      }}\n    >\n      <main>{children}</main>\n    </Container>\n  );\n};\n\nexport default MainLayout;","position":{"start":{"line":123,"column":1,"offset":5385},"end":{"line":139,"column":4,"offset":5648},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Pretty simple right? But we want to have a header on all our pages which displays our website name and any links we may have to other pages in our site. Lets make that now.","position":{"start":{"line":141,"column":1,"offset":5652},"end":{"line":141,"column":173,"offset":5824},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":5652},"end":{"line":141,"column":173,"offset":5824},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\nimport { Link, routes } from \"@redwoodjs/router\";\n\nconst Header = () => {\n  return (\n    <header\n      sx={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        borderBottom: \"solid 2px\",\n        borderColor: \"secondaryDarker\"\n      }}\n    >\n      <h1>\n        <Link\n          sx={{\n            fontFamily: \"heading\",\n            fontWeight: 400,\n            color: \"text\",\n            textDecoration: \"none\",\n            \":hover\": {\n              color: \"accent\"\n            }\n          }}\n          to={routes.home()}\n        >\n          Redwood - Snipcart\n        </Link>\n      </h1>\n      <nav\n        sx={{\n          display: \"flex\",\n          justifyContent: \"space-evenly\",\n          width: \"15em\"\n        }}\n      >\n        <Link\n          sx={{\n            fontFamily: \"heading\",\n            fontWeight: 400,\n            color: \"text\",\n            \":hover\": {\n              color: \"accent\"\n            }\n          }}\n          to={routes.contact()}\n        >\n          Contact\n        </Link>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;","position":{"start":{"line":143,"column":1,"offset":5828},"end":{"line":201,"column":4,"offset":7057},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Lets add our Header component to the MainLayout to complete it.","position":{"start":{"line":203,"column":1,"offset":7061},"end":{"line":203,"column":64,"offset":7124},"indent":[]}}],"position":{"start":{"line":203,"column":1,"offset":7061},"end":{"line":203,"column":64,"offset":7124},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"import { Container } from \"theme-ui\";\nimport Header from \"src/components/Header\";\n\nconst MainLayout = ({ children }) => {\n  return (\n    <Container\n      sx={{\n        maxWidth: 1024\n      }}\n    >\n      <Header />\n      <main>{children}</main>\n    </Container>\n  );\n};\n\nexport default MainLayout;","position":{"start":{"line":205,"column":1,"offset":7128},"end":{"line":223,"column":4,"offset":7454},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We still don't know what this looks like! (unless you cheated and looked at the example site!) Lets carry on regardless. We'll use our new layout component to wrap the content of our home page, thus providing us with a consistent look to our site whatever page our visitors are on. Of course we can have different layouts for different pages and if we wanted to do that we could either create them ourselves or use the RedwoodJS CLI to create them for us.","position":{"start":{"line":225,"column":1,"offset":7458},"end":{"line":225,"column":456,"offset":7913},"indent":[]}}],"position":{"start":{"line":225,"column":1,"offset":7458},"end":{"line":225,"column":456,"offset":7913},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\nimport MainLayout from \"src/layouts/MainLayout/MainLayout\";\n\nconst HomePage = () => {\n  return (\n    <MainLayout>\n      <h2\n        sx={{\n          fontFamily: \"body\",\n          fontWeight: 400\n        }}\n      >\n        Super Duper Ecommerce Website\n      </h2>\n      <p\n        sx={{\n          fontFamily: \"body\",\n          fontWeight: 400\n        }}\n      >\n        Some text here explaining how great your website is!\n      </p>\n    </MainLayout>\n  );\n};\n\nexport default HomePage;","position":{"start":{"line":227,"column":1,"offset":7917},"end":{"line":256,"column":4,"offset":8489},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that we don't specify the route like we did when creating the home page (/), this is because RedwoodJS is clever enough to know that we want a new page at he route for the given name. By specifying / in our home page creating we are telling RedwoodJS that this will be our main page/route. Note that when creating pages via the CLI we can use more than one word for our pages but they have to conform to a standard that tells the CLI that is is in fact two word that will be joined together. Any of the following will work.","position":{"start":{"line":258,"column":1,"offset":8493},"end":{"line":258,"column":529,"offset":9021},"indent":[]}}],"position":{"start":{"line":258,"column":1,"offset":8493},"end":{"line":258,"column":529,"offset":9021},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Taken from the RedwoodJS docs:","position":{"start":{"line":260,"column":1,"offset":9025},"end":{"line":260,"column":31,"offset":9055},"indent":[]}}],"position":{"start":{"line":260,"column":1,"offset":9025},"end":{"line":260,"column":31,"offset":9055},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn rw g cell blog_posts\nyarn rw g cell blog-posts\nyarn rw g cell blogPosts\nyarn rw g cell BlogPosts","position":{"start":{"line":262,"column":1,"offset":9059},"end":{"line":267,"column":4,"offset":9177},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Adding some purchase power","position":{"start":{"line":269,"column":5,"offset":9185},"end":{"line":269,"column":31,"offset":9211},"indent":[]}}],"position":{"start":{"line":269,"column":1,"offset":9181},"end":{"line":269,"column":31,"offset":9211},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Before we dive into the graphql schema we will add our snipcart script. You will need to create an account with ","position":{"start":{"line":271,"column":1,"offset":9215},"end":{"line":271,"column":113,"offset":9327},"indent":[]}},{"type":"link","title":null,"url":"https://snipcart.com/","children":[{"type":"text","value":"snipcart","position":{"start":{"line":271,"column":114,"offset":9328},"end":{"line":271,"column":122,"offset":9336},"indent":[]}}],"position":{"start":{"line":271,"column":113,"offset":9327},"end":{"line":271,"column":146,"offset":9360},"indent":[]}},{"type":"text","value":", once done open the dashboard and click the little person icon in the top right hand corner. You'll want to go to domains & urls first and add localhost:8910 to the domain filed and hit save. This will tell snipcart to look for this domain in dev. Keep the protocal as http as thats what RedwoodJS uses for local dev. Next scroll down to api keys and copy the first line of the code they say to copy. For example:","position":{"start":{"line":271,"column":146,"offset":9360},"end":{"line":271,"column":560,"offset":9774},"indent":[]}}],"position":{"start":{"line":271,"column":1,"offset":9215},"end":{"line":271,"column":560,"offset":9774},"indent":[]}},{"type":"code","lang":"html","meta":null,"value":"<link\n  rel=\"stylesheet\"\n  href=\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.css\"\n/>","position":{"start":{"line":273,"column":1,"offset":9778},"end":{"line":278,"column":4,"offset":9892},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Open the index.html file at the web projects root and past the style sheet into the head element. next copy the div ans script tags and paste them inside the body tag but below the div with id of redwood-app. It should look like this except your api key will be different.","position":{"start":{"line":280,"column":1,"offset":9896},"end":{"line":280,"column":273,"offset":10168},"indent":[]}}],"position":{"start":{"line":280,"column":1,"offset":9896},"end":{"line":280,"column":273,"offset":10168},"indent":[]}},{"type":"jsx","value":"<AccentBox>\n  You can use this api key and keep it in your html file which will be committed\n  to git because, and i quote \"The public API key is the key you need to add on\n  your website when including the snipcart.js file. This key can be shared\n  without security issues because it only allows a specific subset of API\n  operations.\"\n</AccentBox>","position":{"start":{"line":282,"column":1,"offset":10172},"end":{"line":288,"column":13,"offset":10527},"indent":[1,1,1,1,1,1]}},{"type":"code","lang":"html","meta":null,"value":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" />\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <link\n      rel=\"stylesheet\"\n      href=\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.css\"\n    />\n    <title><%= htmlWebpackPlugin.options.title %></title>\n  </head>\n  <body>\n    <div id=\"redwood-app\"></div>\n    <div id=\"snipcart\" data-api-key=\"<your-api-key-here>\" hidden></div>\n    <script src=\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.js\"></script>\n  </body>\n</html>","position":{"start":{"line":290,"column":1,"offset":10531},"end":{"line":313,"column":4,"offset":11324},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now that we have added snipcart to our site we can start up our site and see whats what.","position":{"start":{"line":315,"column":1,"offset":11328},"end":{"line":315,"column":89,"offset":11416},"indent":[]}}],"position":{"start":{"line":315,"column":1,"offset":11328},"end":{"line":315,"column":89,"offset":11416},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn rw dev","position":{"start":{"line":317,"column":1,"offset":11420},"end":{"line":319,"column":4,"offset":11445},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Open your dev tools and check the elements tab, check the head and body tags for the snipcart tags/scripts. Don't worry if you don't see your api key in the div at the bottom of the body tag, you're not supposed too. Snipcart will handle that for us. Check your console for any errors and sit back because there aren't any. (i hope ðŸ˜¶)","position":{"start":{"line":321,"column":1,"offset":11449},"end":{"line":321,"column":336,"offset":11784},"indent":[]}}],"position":{"start":{"line":321,"column":1,"offset":11449},"end":{"line":321,"column":336,"offset":11784},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Adding product models the the graphql schema","position":{"start":{"line":323,"column":5,"offset":11792},"end":{"line":323,"column":49,"offset":11836},"indent":[]}}],"position":{"start":{"line":323,"column":1,"offset":11788},"end":{"line":323,"column":49,"offset":11836},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Close the web directory and open the api directory. Remove the commented code and add the following product model.","position":{"start":{"line":325,"column":1,"offset":11840},"end":{"line":325,"column":115,"offset":11954},"indent":[]}}],"position":{"start":{"line":325,"column":1,"offset":11840},"end":{"line":325,"column":115,"offset":11954},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"model Product {\n  id          Int @id @default(autoincrement())\n  title       String\n  description String\n  price       String\n  image       String\n  imageAlt    String\n}","position":{"start":{"line":327,"column":1,"offset":11958},"end":{"line":336,"column":4,"offset":12147},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Next we want to take a snapshot as migration and then apply it. This reminds me of when i used to work with Entity Framework back in my C# days, oh the memories.... ðŸ¥´","position":{"start":{"line":338,"column":1,"offset":12151},"end":{"line":338,"column":168,"offset":12318},"indent":[]}}],"position":{"start":{"line":338,"column":1,"offset":12151},"end":{"line":338,"column":168,"offset":12318},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn rw db save // create the local database\nyarn rw db up // apply the migration and create the table","position":{"start":{"line":340,"column":1,"offset":12322},"end":{"line":343,"column":4,"offset":12439},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"React, React, React!","position":{"start":{"line":345,"column":5,"offset":12447},"end":{"line":345,"column":25,"offset":12467},"indent":[]}}],"position":{"start":{"line":345,"column":1,"offset":12443},"end":{"line":345,"column":25,"offset":12467},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Lets code some components. We'll use the RedwoodJS CLI to scaffold out some CRUD components for us.","position":{"start":{"line":347,"column":1,"offset":12471},"end":{"line":347,"column":100,"offset":12570},"indent":[]}}],"position":{"start":{"line":347,"column":1,"offset":12471},"end":{"line":347,"column":100,"offset":12570},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn rw g scaffold product","position":{"start":{"line":349,"column":1,"offset":12574},"end":{"line":351,"column":4,"offset":12614},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This is some kinda magic. We now have numerous files in our components folder.","position":{"start":{"line":353,"column":1,"offset":12618},"end":{"line":353,"column":79,"offset":12696},"indent":[]}}],"position":{"start":{"line":353,"column":1,"offset":12618},"end":{"line":353,"column":79,"offset":12696},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"EditProductCell","position":{"start":{"line":355,"column":3,"offset":12702},"end":{"line":355,"column":18,"offset":12717},"indent":[]}}],"position":{"start":{"line":355,"column":3,"offset":12702},"end":{"line":355,"column":18,"offset":12717},"indent":[]}}],"position":{"start":{"line":355,"column":1,"offset":12700},"end":{"line":355,"column":18,"offset":12717},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"NewProduct","position":{"start":{"line":356,"column":3,"offset":12721},"end":{"line":356,"column":13,"offset":12731},"indent":[]}}],"position":{"start":{"line":356,"column":3,"offset":12721},"end":{"line":356,"column":13,"offset":12731},"indent":[]}}],"position":{"start":{"line":356,"column":1,"offset":12719},"end":{"line":356,"column":13,"offset":12731},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"ProductForm","position":{"start":{"line":357,"column":3,"offset":12735},"end":{"line":357,"column":14,"offset":12746},"indent":[]}}],"position":{"start":{"line":357,"column":3,"offset":12735},"end":{"line":357,"column":14,"offset":12746},"indent":[]}}],"position":{"start":{"line":357,"column":1,"offset":12733},"end":{"line":357,"column":14,"offset":12746},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Products","position":{"start":{"line":358,"column":3,"offset":12750},"end":{"line":358,"column":11,"offset":12758},"indent":[]}}],"position":{"start":{"line":358,"column":3,"offset":12750},"end":{"line":358,"column":11,"offset":12758},"indent":[]}}],"position":{"start":{"line":358,"column":1,"offset":12748},"end":{"line":358,"column":11,"offset":12758},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"ProductsCell","position":{"start":{"line":359,"column":3,"offset":12762},"end":{"line":359,"column":15,"offset":12774},"indent":[]}}],"position":{"start":{"line":359,"column":3,"offset":12762},"end":{"line":359,"column":15,"offset":12774},"indent":[]}}],"position":{"start":{"line":359,"column":1,"offset":12760},"end":{"line":359,"column":15,"offset":12774},"indent":[]}}],"position":{"start":{"line":355,"column":1,"offset":12700},"end":{"line":359,"column":15,"offset":12774},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"These files each provide us with admin functionality to manipulate our sites data.","position":{"start":{"line":361,"column":1,"offset":12778},"end":{"line":361,"column":83,"offset":12860},"indent":[]}}],"position":{"start":{"line":361,"column":1,"offset":12778},"end":{"line":361,"column":83,"offset":12860},"indent":[]}},{"type":"jsx","value":"<AccentBox>\n  Go through each file and look at the queries at the top of the file. For some\n  reason they will say posts instead of product(s), change them otherwise\n  nothing will work. Also change the query names.\n</AccentBox>","position":{"start":{"line":363,"column":1,"offset":12864},"end":{"line":367,"column":13,"offset":13096},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We are going to leave the styling as it is as thats not the focus of this tutorial, but its would be very easy to just remove all the class names and replace them with an sx prop with our theme styles.","position":{"start":{"line":369,"column":1,"offset":13100},"end":{"line":369,"column":202,"offset":13301},"indent":[]}}],"position":{"start":{"line":369,"column":1,"offset":13100},"end":{"line":369,"column":202,"offset":13301},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Open Product.js and change the image table tr - td to return an img tag.","position":{"start":{"line":371,"column":1,"offset":13305},"end":{"line":371,"column":73,"offset":13377},"indent":[]}}],"position":{"start":{"line":371,"column":1,"offset":13305},"end":{"line":371,"column":73,"offset":13377},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"<tr className=\"odd:bg-gray-100 even:bg-white border-t\">\n  <td className=\"font-semibold p-3 text-right md:w-1/5\">Image</td>\n  <td className=\"p-3\">\n    <img src={product.Image} alt={product.imageAlt} />\n  </td>\n</tr>","position":{"start":{"line":373,"column":1,"offset":13381},"end":{"line":380,"column":4,"offset":13612},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Do the same in the Products.js file except add a width of 150px to the img element tag otherwise the image will be huge in the table that displays them.","position":{"start":{"line":382,"column":1,"offset":13616},"end":{"line":382,"column":153,"offset":13768},"indent":[]}}],"position":{"start":{"line":382,"column":1,"offset":13616},"end":{"line":382,"column":153,"offset":13768},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"<td className=\"p-3\">\n  <img src={truncate(product.image)} width=\"150px\" alt={imageAlt} />\n</td>","position":{"start":{"line":384,"column":1,"offset":13772},"end":{"line":388,"column":4,"offset":13881},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"For this tutorial we will be using some random images form unsplash. We will use a special url with a collection id to get random images for each of our products. Open a new tab and navigate to ","position":{"start":{"line":390,"column":1,"offset":13885},"end":{"line":390,"column":195,"offset":14079},"indent":[]}},{"type":"link","title":null,"url":"https://source.unsplash.com/","children":[{"type":"text","value":"https://source.unsplash.com/","position":{"start":{"line":390,"column":196,"offset":14080},"end":{"line":390,"column":224,"offset":14108},"indent":[]}}],"position":{"start":{"line":390,"column":195,"offset":14079},"end":{"line":390,"column":255,"offset":14139},"indent":[]}},{"type":"text","value":". an example url that we will use looks like this: ","position":{"start":{"line":390,"column":255,"offset":14139},"end":{"line":390,"column":306,"offset":14190},"indent":[]}},{"type":"link","title":null,"url":"https://source.unsplash.com/collection/190727/1600x900","children":[{"type":"text","value":"https://source.unsplash.com/collection/190727/1600x900","position":{"start":{"line":390,"column":306,"offset":14190},"end":{"line":390,"column":360,"offset":14244},"indent":[]}}],"position":{"start":{"line":390,"column":306,"offset":14190},"end":{"line":390,"column":360,"offset":14244},"indent":[]}},{"type":"text","value":", pick a fitting alt tag.","position":{"start":{"line":390,"column":360,"offset":14244},"end":{"line":390,"column":385,"offset":14269},"indent":[]}}],"position":{"start":{"line":390,"column":1,"offset":13885},"end":{"line":390,"column":385,"offset":14269},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Lets create a new cell to handle showing all our products. A cell in RedwoodJS is basically a file that contains.","position":{"start":{"line":392,"column":1,"offset":14273},"end":{"line":392,"column":114,"offset":14386},"indent":[]}}],"position":{"start":{"line":392,"column":1,"offset":14273},"end":{"line":392,"column":114,"offset":14386},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A query to fetch the data we want to showing","position":{"start":{"line":394,"column":3,"offset":14392},"end":{"line":394,"column":47,"offset":14436},"indent":[]}}],"position":{"start":{"line":394,"column":3,"offset":14392},"end":{"line":394,"column":47,"offset":14436},"indent":[]}}],"position":{"start":{"line":394,"column":1,"offset":14390},"end":{"line":394,"column":47,"offset":14436},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A loading function to show when the data is loading","position":{"start":{"line":395,"column":3,"offset":14440},"end":{"line":395,"column":54,"offset":14491},"indent":[]}}],"position":{"start":{"line":395,"column":3,"offset":14440},"end":{"line":395,"column":54,"offset":14491},"indent":[]}}],"position":{"start":{"line":395,"column":1,"offset":14438},"end":{"line":395,"column":54,"offset":14491},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"An empty function to show if there is no data to show","position":{"start":{"line":396,"column":3,"offset":14495},"end":{"line":396,"column":56,"offset":14548},"indent":[]}}],"position":{"start":{"line":396,"column":3,"offset":14495},"end":{"line":396,"column":56,"offset":14548},"indent":[]}}],"position":{"start":{"line":396,"column":1,"offset":14493},"end":{"line":396,"column":56,"offset":14548},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A failure function to show when the request has failed to fetch any data","position":{"start":{"line":397,"column":3,"offset":14552},"end":{"line":397,"column":75,"offset":14624},"indent":[]}}],"position":{"start":{"line":397,"column":3,"offset":14552},"end":{"line":397,"column":75,"offset":14624},"indent":[]}}],"position":{"start":{"line":397,"column":1,"offset":14550},"end":{"line":397,"column":75,"offset":14624},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A success function which will show the data","position":{"start":{"line":398,"column":3,"offset":14628},"end":{"line":398,"column":46,"offset":14671},"indent":[]}}],"position":{"start":{"line":398,"column":3,"offset":14628},"end":{"line":398,"column":46,"offset":14671},"indent":[]}}],"position":{"start":{"line":398,"column":1,"offset":14626},"end":{"line":398,"column":46,"offset":14671},"indent":[]}}],"position":{"start":{"line":394,"column":1,"offset":14390},"end":{"line":398,"column":46,"offset":14671},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Go ahead and add some products by navigating to http//:localhost:8910/products","position":{"start":{"line":400,"column":1,"offset":14675},"end":{"line":400,"column":79,"offset":14753},"indent":[]}}],"position":{"start":{"line":400,"column":1,"offset":14675},"end":{"line":400,"column":79,"offset":14753},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can forget about styling the first three and concentrate on then success function. Lets create this cell.","position":{"start":{"line":402,"column":1,"offset":14757},"end":{"line":402,"column":109,"offset":14865},"indent":[]}}],"position":{"start":{"line":402,"column":1,"offset":14757},"end":{"line":402,"column":109,"offset":14865},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"yarn rw g cell allProducts","position":{"start":{"line":404,"column":1,"offset":14869},"end":{"line":406,"column":4,"offset":14909},"indent":[1,1]}},{"type":"jsx","value":"<AccentBox>\n  We will need to change the query name to products to match our schema. Also\n  change it as the prop in the success function.\n</AccentBox>","position":{"start":{"line":408,"column":1,"offset":14913},"end":{"line":411,"column":13,"offset":15067},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now in our components folder create a new component called ProductsContainer.","position":{"start":{"line":413,"column":1,"offset":15071},"end":{"line":413,"column":78,"offset":15148},"indent":[]}}],"position":{"start":{"line":413,"column":1,"offset":15071},"end":{"line":413,"column":78,"offset":15148},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\n\nconst ProductsContainer = ({ children }) => (\n  <div\n    sx={{\n      margin: \"2em auto\",\n      display: \"grid\",\n      gridAutoRows: \"auto\",\n      gridTemplateColumns: \"repeat(auto-fill, minmax(auto, 450px))\",\n      gap: \"1.5em\",\n      justifyContent: \"space-evenly\",\n      width: \"100%\"\n    }}\n  >\n    {children}\n  </div>\n);\n\nexport default ProductsContainer;","position":{"start":{"line":415,"column":1,"offset":15152},"end":{"line":436,"column":4,"offset":15592},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Next create a SingleProduct component.","position":{"start":{"line":438,"column":1,"offset":15596},"end":{"line":438,"column":39,"offset":15634},"indent":[]}}],"position":{"start":{"line":438,"column":1,"offset":15596},"end":{"line":438,"column":39,"offset":15634},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\n\nconst SingleProduct = ({ id, title, description, price, image, imageAlt }) => {\n  return (\n    <div\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        border: \"solid 2px\",\n        borderColor: \"secondaryDarker\",\n        width: \"100%\",\n        height: \"auto\",\n        padding: \"1.5em\"\n      }}\n    >\n      <p\n        sx={{\n          fontFamily: \"heading\",\n          fontSize: \"2em\",\n          textAlign: \"center\"\n        }}\n      >\n        {title}\n      </p>\n      <div\n        sx={{\n          width: \"100%\",\n          height: \"auto\"\n        }}\n      >\n        <img src={image} width=\"400px\" alt={imageAlt} />\n      </div>\n      <p\n        sx={{\n          fontFamily: \"heading\",\n          fontSize: \"1em\"\n        }}\n      >\n        {description}\n      </p>\n    </div>\n  );\n};\n\nexport default SingleProduct;","position":{"start":{"line":440,"column":1,"offset":15638},"end":{"line":487,"column":4,"offset":16577},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now we can add them to our success function in AllProductsCell.js and pass in the product data.","position":{"start":{"line":489,"column":1,"offset":16581},"end":{"line":489,"column":96,"offset":16676},"indent":[]}}],"position":{"start":{"line":489,"column":1,"offset":16581},"end":{"line":489,"column":96,"offset":16676},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"export const Success = ({ products }) => {\n  console.log({ products });\n  return (\n    <ProductsContainer>\n      {products.map(product => (\n        <SingleProduct\n          key={product.id}\n          id={product.id}\n          title={product.title}\n          description={product.description}\n          price={product.price}\n          image={product.image}\n          imageAlt={product.imageAlt}\n        />\n      ))}\n    </ProductsContainer>\n  );\n};","position":{"start":{"line":491,"column":1,"offset":16680},"end":{"line":510,"column":4,"offset":17157},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"How do we buy stuff?","position":{"start":{"line":512,"column":5,"offset":17165},"end":{"line":512,"column":25,"offset":17185},"indent":[]}}],"position":{"start":{"line":512,"column":1,"offset":17161},"end":{"line":512,"column":25,"offset":17185},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So we have our products on our site but we cant yet buy them. Lets use snipcart to add a buy button. Its really easy, i promise! Create a snipcart folder inside the components folder and add a file called BuyButton.js. Lets add the content then go through it.","position":{"start":{"line":514,"column":1,"offset":17189},"end":{"line":514,"column":260,"offset":17448},"indent":[]}}],"position":{"start":{"line":514,"column":1,"offset":17189},"end":{"line":514,"column":260,"offset":17448},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\n\nconst BuyButton = ({ id, title, price, image, description, url, path }) => (\n  <button\n    sx={{\n      fontFamily: \"heading\",\n      fontWeight: \"bold\",\n      border: \"1px solid\",\n      borderRadius: \"5px\",\n      padding: \"0.35em 1.2em\",\n      borderColor: \"secondaryDarker\",\n      backgroundColor: \"secondary\",\n      color: \"background\",\n      cursor: \"pointer\",\n      textTransform: \"uppercase\",\n      height: \"2.5em\",\n      \"&:hover\": {\n        color: \"accent\",\n        backgroundColor: \"background\",\n        fontWeight: \"bold\"\n      },\n      \"&:active\": {\n        boxShadow: \"-1px 1px #00001F\"\n      }\n    }}\n    className=\"snipcart-add-item\"\n    data-item-id={id}\n    data-item-price={price}\n    data-item-image={image}\n    data-item-name={title}\n    data-item-description={description}\n    data-item-url={url + path}\n    data-item-stackable={true}\n    data-item-has-taxes-included={true}\n  >\n    Buy Now\n  </button>\n);\n\nexport default BuyButton;","position":{"start":{"line":516,"column":1,"offset":17452},"end":{"line":558,"column":4,"offset":18504},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Snipcart works by recognizing the className we add to the element, as well as the path of the product. It also expects certain properties on that element. These are the base properties expected, you can also add variants but we wont cover that here. You can check out the ","position":{"start":{"line":560,"column":1,"offset":18508},"end":{"line":560,"column":273,"offset":18780},"indent":[]}},{"type":"link","title":null,"url":"https://docs.snipcart.com/v3/setup/products","children":[{"type":"text","value":"docs","position":{"start":{"line":560,"column":274,"offset":18781},"end":{"line":560,"column":278,"offset":18785},"indent":[]}}],"position":{"start":{"line":560,"column":273,"offset":18780},"end":{"line":560,"column":324,"offset":18831},"indent":[]}},{"type":"text","value":" for more info.","position":{"start":{"line":560,"column":324,"offset":18831},"end":{"line":560,"column":339,"offset":18846},"indent":[]}}],"position":{"start":{"line":560,"column":1,"offset":18508},"end":{"line":560,"column":339,"offset":18846},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can now add the BuyButton to our SingleProduct component.","position":{"start":{"line":562,"column":1,"offset":18850},"end":{"line":562,"column":61,"offset":18910},"indent":[]}}],"position":{"start":{"line":562,"column":1,"offset":18850},"end":{"line":562,"column":61,"offset":18910},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\nimport BuyButton from \"./snipcart/BuyButton\";\n\nconst SingleProduct = ({ id, title, description, price, image, imageAlt }) => {\n  return (\n    <div\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        border: \"solid 2px\",\n        borderColor: \"secondaryDarker\",\n        width: \"100%\",\n        height: \"auto\",\n        padding: \"1.5em\"\n      }}\n    >\n      <p\n        sx={{\n          fontFamily: \"heading\",\n          fontSize: \"2em\",\n          textAlign: \"center\"\n        }}\n      >\n        {title}\n      </p>\n      <div\n        sx={{\n          width: \"100%\",\n          height: \"auto\"\n        }}\n      >\n        <img src={image} width=\"400px\" alt={imageAlt} />\n      </div>\n      <p\n        sx={{\n          fontFamily: \"heading\",\n          fontSize: \"1em\"\n        }}\n      >\n        {description}\n      </p>\n      <BuyButton\n        id={id}\n        title={title}\n        price={price}\n        description={description}\n        image={image}\n        url=\"https://<your-netily-site-name>.netlify.com/\"\n        path=\"/store\"\n      />\n    </div>\n  );\n};\n\nexport default SingleProduct;","position":{"start":{"line":564,"column":1,"offset":18914},"end":{"line":621,"column":4,"offset":20132},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now as you can see above i have used the netlify deployed url for the product url. When in dev you van use localhost:8910. The reason i left this in the example is to try and remind you that you will have to change this when deploying otherwise snipcart wont recognize the products url. On that note lets commit and push our changes.","position":{"start":{"line":623,"column":1,"offset":20136},"end":{"line":623,"column":334,"offset":20469},"indent":[]}}],"position":{"start":{"line":623,"column":1,"offset":20136},"end":{"line":623,"column":334,"offset":20469},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Our site is ready to go live. We have setup a simple ecommerce website with minimal effort. Of course there is much more we can do, and will do! I wont cover deployment in this tutorial, you can check the awesome ","position":{"start":{"line":625,"column":1,"offset":20473},"end":{"line":625,"column":214,"offset":20686},"indent":[]}},{"type":"link","title":null,"url":"https://redwoodjs.com/tutorial/deployment","children":[{"type":"text","value":"docs","position":{"start":{"line":625,"column":215,"offset":20687},"end":{"line":625,"column":219,"offset":20691},"indent":[]}}],"position":{"start":{"line":625,"column":214,"offset":20686},"end":{"line":625,"column":263,"offset":20735},"indent":[]}},{"type":"text","value":". In the next tutorial we will add ","position":{"start":{"line":625,"column":263,"offset":20735},"end":{"line":625,"column":298,"offset":20770},"indent":[]}},{"type":"link","title":null,"url":"https://docs.netlify.com/visitor-access/identity/","children":[{"type":"text","value":"Netlify Identity","position":{"start":{"line":625,"column":299,"offset":20771},"end":{"line":625,"column":315,"offset":20787},"indent":[]}}],"position":{"start":{"line":625,"column":298,"offset":20770},"end":{"line":625,"column":367,"offset":20839},"indent":[]}},{"type":"text","value":" with a protected route so that our admins can add and edit products from within the website. I hope you enjoyed this, let me know what you think on ","position":{"start":{"line":625,"column":367,"offset":20839},"end":{"line":625,"column":516,"offset":20988},"indent":[]}},{"type":"link","title":null,"url":"https://twitter.com/studio_hungry","children":[{"type":"text","value":"twitter","position":{"start":{"line":625,"column":517,"offset":20989},"end":{"line":625,"column":524,"offset":20996},"indent":[]}}],"position":{"start":{"line":625,"column":516,"offset":20988},"end":{"line":625,"column":560,"offset":21032},"indent":[]}},{"type":"text","value":"! ðŸ˜Š","position":{"start":{"line":625,"column":560,"offset":21032},"end":{"line":625,"column":564,"offset":21036},"indent":[]}}],"position":{"start":{"line":625,"column":1,"offset":20473},"end":{"line":625,"column":564,"offset":21036},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Redwood ecommerce with Snipcart\",\"date\":\"2020-03-25T00:00:00.000Z\",\"published\":true,\"category\":\"Tutorial\",\"author\":\"Richard Haines\",\"keywords\":[\"javascript\",\"redwoodjs\",\"tutorial\",\"snipcart\",\"ecommerce\"],\"pin\":false}","position":{"start":{"line":627,"column":1,"offset":21038},"end":{"line":627,"column":255,"offset":21292},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":627,"column":255,"offset":21292}}},"scopeImports":["import AccentBox from \"../src/components/site/blog/accent-box.js\";","import React from 'react'"],"scopeIdentifiers":["AccentBox","React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Redwood ecommerce with Snipcart\",\n  \"date\": \"2020-03-25T00:00:00.000Z\",\n  \"published\": true,\n  \"category\": \"Tutorial\",\n  \"author\": \"Richard Haines\",\n  \"keywords\": [\"javascript\", \"redwoodjs\", \"tutorial\", \"snipcart\", \"ecommerce\"],\n  \"pin\": false\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Im my previous post \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/first-look-at-redwoodjs\"\n  }), \"First look at RedwoodJS\"), \" i took a look at Redwood with fresh eyes and documented what i found interesting. I did have an idea to just outline adding snipcart to a RedwoodJS project but as i went through the process and took notes i came to the conclusion that maybe a tutorial would be a better way to go.\"), mdx(\"p\", null, \"So this is what you might call a simple tutorial, by that i mean that we are not going to make a full blown ecommerce website, rather we are going to setup a RedwoodJS site and add snipcart to it. By the end of this tutorial we will have a website up and running and be able to sell products. Lets GOOOOOOOO \\uD83D\\uDD7A\"), mdx(AccentBox, {\n    mdxType: \"AccentBox\"\n  }, \"This tutorial assumes that you have never used RedwoodJS, that you havent even read my previous first look post!! OMG!\"), mdx(\"p\", null, \"The end result will look like this: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://redwood-snipcart.netlify.com/\"\n  }), \"redwood-snipcart.netlify.com\"), \", except we are going to go one better. We are going to add an admin route with CRUD operations that is accessed via sign up and login using Netlify Identity. \\uD83D\\uDE31\"), mdx(\"p\", null, \"From the command line lets create our RedwoodJS project:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn create redwood-app <whatever-you-want-to-call-it>\\n\")), mdx(\"p\", null, \"Create a new repo in github and give it the same name you used when creating your RedwoodJS app. Now navigate into the projects root and create a git repo.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"git init\\ngit add .\\ngit commit -m \\\"My first commit\\\"\\ngit remote add origin <your-github-repo-url>\\ngit push -u origin master\\n\")), mdx(\"h3\", {\n    \"id\": \"base-layout-and-project-files\"\n  }, \"Base layout and project files\"), mdx(\"p\", null, \"We are going to use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://theme-ui.com/\"\n  }), \"Theme-ui\"), \" to style our website because its super simple and powerful. Lets install it, remembering that we are working in yarn workspaces so we need to prefix our install with workspaces and the workspace we want to install the package in.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn workspace web add theme-ui\\n\")), mdx(\"p\", null, \"Now that we have theme-ui installed we need to add it to our project. In the index.js file located at the web projects root add the ThemeProvider component.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import ReactDOM from \\\"react-dom\\\";\\nimport { RedwoodProvider, FatalErrorBoundary } from \\\"@redwoodjs/web\\\";\\nimport FatalErrorPage from \\\"src/pages/FatalErrorPage\\\";\\nimport { ThemeProvider } from \\\"theme-ui\\\";\\nimport theme from \\\"./theme\\\";\\n\\nimport Routes from \\\"src/Routes\\\";\\n\\nimport \\\"./scaffold.css\\\";\\nimport \\\"./index.css\\\";\\n\\nReactDOM.render(\\n  <ThemeProvider theme={theme}>\\n    <FatalErrorBoundary page={FatalErrorPage}>\\n      <RedwoodProvider>\\n        <Routes />\\n      </RedwoodProvider>\\n    </FatalErrorBoundary>\\n  </ThemeProvider>,\\n  document.getElementById(\\\"redwood-app\\\")\\n);\\n\")), mdx(\"p\", null, \"We are wrapping the ThemeProvider around our whole app so that everything gets our styles. But where are those styles coming from i hear you ask? That would be the theme.js file. Lets create that now inside our src directory.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"export default {\\n  useCustomProperties: false,\\n  fonts: {\\n    body: \\\"Open Sans\\\",\\n    heading: \\\"Montserrat\\\"\\n  },\\n  fontWeights: {\\n    body: 300,\\n    heading: 400,\\n    bold: 700\\n  },\\n  lineHeights: {\\n    body: \\\"110%\\\",\\n    heading: 1.125,\\n    tagline: \\\"100px\\\"\\n  },\\n  letterSpacing: {\\n    body: \\\"2px\\\",\\n    text: \\\"5px\\\"\\n  },\\n  colors: {\\n    text: \\\"#FFFfff\\\",\\n    background: \\\"#1a202c\\\",\\n    primary: \\\"#000010\\\",\\n    secondary: \\\"#E7E7E9\\\",\\n    secondaryDarker: \\\"#2d3748\\\",\\n    accent: \\\"#DE3C4B\\\"\\n  },\\n  breakpoints: [\\\"40em\\\", \\\"56em\\\", \\\"64em\\\"]\\n};\\n\")), mdx(\"p\", null, \"Its all pretty self explanatory but if you need a reresh or have no idea what the hell this is then you can check our the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://theme-ui.com/theming\"\n  }), \"Theme-ui docs\"), \".\"), mdx(\"p\", null, \"Ok nice. You don't need to run the project yet, lets do it blind and be surprised by the results!! Our standard RedwoodJS project gives us folders but not much else in the way of pages or components. Lets add our home page via the RedwoodJS CLI.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn rw g page home /\\n\")), mdx(\"p\", null, \"So what is going on here i hear you scream at the screen?? Well we are basically saying redwood (rw) can you generate (g) a page called home at route (/) which as we all know, because we are all professionals here, the root route.\"), mdx(\"p\", null, \"RedwoodJS will now generate two new files, one called HomePage (RedwoodJS prefixes the name we give in the command with page, because its nice like that) and a test file. Which passes! Of course this is just a render test and if we add more logic we should add tests for it in this file.\"), mdx(\"p\", null, \"We can leave the home page for a second and run some more RedwoodJS CLI commands because they are amazing and give us lots of stuff for free! All together now....\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn rw g page contact\\nyarn rw g layout main\\n\")), mdx(\"p\", null, \"We wont go through actually adding the contact form page in this tutorial but you can check the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://redwoodjs.com/tutorial/everyone-s-favorite-thing-to-build-forms\"\n  }), \"RedwoodJS docs\"), \" to get a good idea of how to do it and why they are pretty sweet.\"), mdx(\"p\", null, \"We have created a contact page and a layout which we have called main. Our MainLayout component which was created in a new folder called MainLayout will hold the layout to our website. This is a common pattern used in Gatsby where you create a layout component and import and wrap all other components that are children to it. Lets take a look at out MainLayout component.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import { Container } from \\\"theme-ui\\\";\\n\\nconst MainLayout = ({ children }) => {\\n  return (\\n    <Container\\n      sx={{\\n        maxWidth: 1024\\n      }}\\n    >\\n      <main>{children}</main>\\n    </Container>\\n  );\\n};\\n\\nexport default MainLayout;\\n\")), mdx(\"p\", null, \"Pretty simple right? But we want to have a header on all our pages which displays our website name and any links we may have to other pages in our site. Lets make that now.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"/** @jsx jsx */\\nimport { jsx } from \\\"theme-ui\\\";\\nimport { Link, routes } from \\\"@redwoodjs/router\\\";\\n\\nconst Header = () => {\\n  return (\\n    <header\\n      sx={{\\n        display: \\\"flex\\\",\\n        justifyContent: \\\"space-between\\\",\\n        alignItems: \\\"center\\\",\\n        borderBottom: \\\"solid 2px\\\",\\n        borderColor: \\\"secondaryDarker\\\"\\n      }}\\n    >\\n      <h1>\\n        <Link\\n          sx={{\\n            fontFamily: \\\"heading\\\",\\n            fontWeight: 400,\\n            color: \\\"text\\\",\\n            textDecoration: \\\"none\\\",\\n            \\\":hover\\\": {\\n              color: \\\"accent\\\"\\n            }\\n          }}\\n          to={routes.home()}\\n        >\\n          Redwood - Snipcart\\n        </Link>\\n      </h1>\\n      <nav\\n        sx={{\\n          display: \\\"flex\\\",\\n          justifyContent: \\\"space-evenly\\\",\\n          width: \\\"15em\\\"\\n        }}\\n      >\\n        <Link\\n          sx={{\\n            fontFamily: \\\"heading\\\",\\n            fontWeight: 400,\\n            color: \\\"text\\\",\\n            \\\":hover\\\": {\\n              color: \\\"accent\\\"\\n            }\\n          }}\\n          to={routes.contact()}\\n        >\\n          Contact\\n        </Link>\\n      </nav>\\n    </header>\\n  );\\n};\\n\\nexport default Header;\\n\")), mdx(\"p\", null, \"Lets add our Header component to the MainLayout to complete it.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import { Container } from \\\"theme-ui\\\";\\nimport Header from \\\"src/components/Header\\\";\\n\\nconst MainLayout = ({ children }) => {\\n  return (\\n    <Container\\n      sx={{\\n        maxWidth: 1024\\n      }}\\n    >\\n      <Header />\\n      <main>{children}</main>\\n    </Container>\\n  );\\n};\\n\\nexport default MainLayout;\\n\")), mdx(\"p\", null, \"We still don't know what this looks like! (unless you cheated and looked at the example site!) Lets carry on regardless. We'll use our new layout component to wrap the content of our home page, thus providing us with a consistent look to our site whatever page our visitors are on. Of course we can have different layouts for different pages and if we wanted to do that we could either create them ourselves or use the RedwoodJS CLI to create them for us.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"/** @jsx jsx */\\nimport { jsx } from \\\"theme-ui\\\";\\nimport MainLayout from \\\"src/layouts/MainLayout/MainLayout\\\";\\n\\nconst HomePage = () => {\\n  return (\\n    <MainLayout>\\n      <h2\\n        sx={{\\n          fontFamily: \\\"body\\\",\\n          fontWeight: 400\\n        }}\\n      >\\n        Super Duper Ecommerce Website\\n      </h2>\\n      <p\\n        sx={{\\n          fontFamily: \\\"body\\\",\\n          fontWeight: 400\\n        }}\\n      >\\n        Some text here explaining how great your website is!\\n      </p>\\n    </MainLayout>\\n  );\\n};\\n\\nexport default HomePage;\\n\")), mdx(\"p\", null, \"Note that we don't specify the route like we did when creating the home page (/), this is because RedwoodJS is clever enough to know that we want a new page at he route for the given name. By specifying / in our home page creating we are telling RedwoodJS that this will be our main page/route. Note that when creating pages via the CLI we can use more than one word for our pages but they have to conform to a standard that tells the CLI that is is in fact two word that will be joined together. Any of the following will work.\"), mdx(\"p\", null, \"Taken from the RedwoodJS docs:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn rw g cell blog_posts\\nyarn rw g cell blog-posts\\nyarn rw g cell blogPosts\\nyarn rw g cell BlogPosts\\n\")), mdx(\"h3\", {\n    \"id\": \"adding-some-purchase-power\"\n  }, \"Adding some purchase power\"), mdx(\"p\", null, \"Before we dive into the graphql schema we will add our snipcart script. You will need to create an account with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://snipcart.com/\"\n  }), \"snipcart\"), \", once done open the dashboard and click the little person icon in the top right hand corner. You'll want to go to domains & urls first and add localhost:8910 to the domain filed and hit save. This will tell snipcart to look for this domain in dev. Keep the protocal as http as thats what RedwoodJS uses for local dev. Next scroll down to api keys and copy the first line of the code they say to copy. For example:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<link\\n  rel=\\\"stylesheet\\\"\\n  href=\\\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.css\\\"\\n/>\\n\")), mdx(\"p\", null, \"Open the index.html file at the web projects root and past the style sheet into the head element. next copy the div ans script tags and paste them inside the body tag but below the div with id of redwood-app. It should look like this except your api key will be different.\"), mdx(AccentBox, {\n    mdxType: \"AccentBox\"\n  }, \"You can use this api key and keep it in your html file which will be committed to git because, and i quote \\\"The public API key is the key you need to add on your website when including the snipcart.js file. This key can be shared without security issues because it only allows a specific subset of API operations.\\\"\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <link rel=\\\"icon\\\" type=\\\"image/png\\\" href=\\\"/favicon.png\\\" />\\n    <link\\n      href=\\\"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans&display=swap\\\"\\n      rel=\\\"stylesheet\\\"\\n    />\\n    <link\\n      rel=\\\"stylesheet\\\"\\n      href=\\\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.css\\\"\\n    />\\n    <title><%= htmlWebpackPlugin.options.title %></title>\\n  </head>\\n  <body>\\n    <div id=\\\"redwood-app\\\"></div>\\n    <div id=\\\"snipcart\\\" data-api-key=\\\"<your-api-key-here>\\\" hidden></div>\\n    <script src=\\\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.js\\\"></script>\\n  </body>\\n</html>\\n\")), mdx(\"p\", null, \"Now that we have added snipcart to our site we can start up our site and see whats what.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn rw dev\\n\")), mdx(\"p\", null, \"Open your dev tools and check the elements tab, check the head and body tags for the snipcart tags/scripts. Don't worry if you don't see your api key in the div at the bottom of the body tag, you're not supposed too. Snipcart will handle that for us. Check your console for any errors and sit back because there aren't any. (i hope \\uD83D\\uDE36)\"), mdx(\"h3\", {\n    \"id\": \"adding-product-models-the-the-graphql-schema\"\n  }, \"Adding product models the the graphql schema\"), mdx(\"p\", null, \"Close the web directory and open the api directory. Remove the commented code and add the following product model.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"model Product {\\n  id          Int @id @default(autoincrement())\\n  title       String\\n  description String\\n  price       String\\n  image       String\\n  imageAlt    String\\n}\\n\")), mdx(\"p\", null, \"Next we want to take a snapshot as migration and then apply it. This reminds me of when i used to work with Entity Framework back in my C# days, oh the memories.... \\uD83E\\uDD74\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn rw db save // create the local database\\nyarn rw db up // apply the migration and create the table\\n\")), mdx(\"h3\", {\n    \"id\": \"react-react-react\"\n  }, \"React, React, React!\"), mdx(\"p\", null, \"Lets code some components. We'll use the RedwoodJS CLI to scaffold out some CRUD components for us.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn rw g scaffold product\\n\")), mdx(\"p\", null, \"This is some kinda magic. We now have numerous files in our components folder.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"EditProductCell\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"NewProduct\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ProductForm\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Products\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ProductsCell\")), mdx(\"p\", null, \"These files each provide us with admin functionality to manipulate our sites data.\"), mdx(AccentBox, {\n    mdxType: \"AccentBox\"\n  }, \"Go through each file and look at the queries at the top of the file. For some reason they will say posts instead of product(s), change them otherwise nothing will work. Also change the query names.\"), mdx(\"p\", null, \"We are going to leave the styling as it is as thats not the focus of this tutorial, but its would be very easy to just remove all the class names and replace them with an sx prop with our theme styles.\"), mdx(\"p\", null, \"Open Product.js and change the image table tr - td to return an img tag.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"<tr className=\\\"odd:bg-gray-100 even:bg-white border-t\\\">\\n  <td className=\\\"font-semibold p-3 text-right md:w-1/5\\\">Image</td>\\n  <td className=\\\"p-3\\\">\\n    <img src={product.Image} alt={product.imageAlt} />\\n  </td>\\n</tr>\\n\")), mdx(\"p\", null, \"Do the same in the Products.js file except add a width of 150px to the img element tag otherwise the image will be huge in the table that displays them.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"<td className=\\\"p-3\\\">\\n  <img src={truncate(product.image)} width=\\\"150px\\\" alt={imageAlt} />\\n</td>\\n\")), mdx(\"p\", null, \"For this tutorial we will be using some random images form unsplash. We will use a special url with a collection id to get random images for each of our products. Open a new tab and navigate to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://source.unsplash.com/\"\n  }), \"https://source.unsplash.com/\"), \". an example url that we will use looks like this: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://source.unsplash.com/collection/190727/1600x900\"\n  }), \"https://source.unsplash.com/collection/190727/1600x900\"), \", pick a fitting alt tag.\"), mdx(\"p\", null, \"Lets create a new cell to handle showing all our products. A cell in RedwoodJS is basically a file that contains.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A query to fetch the data we want to showing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A loading function to show when the data is loading\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"An empty function to show if there is no data to show\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A failure function to show when the request has failed to fetch any data\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A success function which will show the data\")), mdx(\"p\", null, \"Go ahead and add some products by navigating to http//:localhost:8910/products\"), mdx(\"p\", null, \"We can forget about styling the first three and concentrate on then success function. Lets create this cell.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn rw g cell allProducts\\n\")), mdx(AccentBox, {\n    mdxType: \"AccentBox\"\n  }, \"We will need to change the query name to products to match our schema. Also change it as the prop in the success function.\"), mdx(\"p\", null, \"Now in our components folder create a new component called ProductsContainer.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"/** @jsx jsx */\\nimport { jsx } from \\\"theme-ui\\\";\\n\\nconst ProductsContainer = ({ children }) => (\\n  <div\\n    sx={{\\n      margin: \\\"2em auto\\\",\\n      display: \\\"grid\\\",\\n      gridAutoRows: \\\"auto\\\",\\n      gridTemplateColumns: \\\"repeat(auto-fill, minmax(auto, 450px))\\\",\\n      gap: \\\"1.5em\\\",\\n      justifyContent: \\\"space-evenly\\\",\\n      width: \\\"100%\\\"\\n    }}\\n  >\\n    {children}\\n  </div>\\n);\\n\\nexport default ProductsContainer;\\n\")), mdx(\"p\", null, \"Next create a SingleProduct component.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"/** @jsx jsx */\\nimport { jsx } from \\\"theme-ui\\\";\\n\\nconst SingleProduct = ({ id, title, description, price, image, imageAlt }) => {\\n  return (\\n    <div\\n      sx={{\\n        display: \\\"flex\\\",\\n        flexDirection: \\\"column\\\",\\n        border: \\\"solid 2px\\\",\\n        borderColor: \\\"secondaryDarker\\\",\\n        width: \\\"100%\\\",\\n        height: \\\"auto\\\",\\n        padding: \\\"1.5em\\\"\\n      }}\\n    >\\n      <p\\n        sx={{\\n          fontFamily: \\\"heading\\\",\\n          fontSize: \\\"2em\\\",\\n          textAlign: \\\"center\\\"\\n        }}\\n      >\\n        {title}\\n      </p>\\n      <div\\n        sx={{\\n          width: \\\"100%\\\",\\n          height: \\\"auto\\\"\\n        }}\\n      >\\n        <img src={image} width=\\\"400px\\\" alt={imageAlt} />\\n      </div>\\n      <p\\n        sx={{\\n          fontFamily: \\\"heading\\\",\\n          fontSize: \\\"1em\\\"\\n        }}\\n      >\\n        {description}\\n      </p>\\n    </div>\\n  );\\n};\\n\\nexport default SingleProduct;\\n\")), mdx(\"p\", null, \"Now we can add them to our success function in AllProductsCell.js and pass in the product data.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"export const Success = ({ products }) => {\\n  console.log({ products });\\n  return (\\n    <ProductsContainer>\\n      {products.map(product => (\\n        <SingleProduct\\n          key={product.id}\\n          id={product.id}\\n          title={product.title}\\n          description={product.description}\\n          price={product.price}\\n          image={product.image}\\n          imageAlt={product.imageAlt}\\n        />\\n      ))}\\n    </ProductsContainer>\\n  );\\n};\\n\")), mdx(\"h3\", {\n    \"id\": \"how-do-we-buy-stuff\"\n  }, \"How do we buy stuff?\"), mdx(\"p\", null, \"So we have our products on our site but we cant yet buy them. Lets use snipcart to add a buy button. Its really easy, i promise! Create a snipcart folder inside the components folder and add a file called BuyButton.js. Lets add the content then go through it.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"/** @jsx jsx */\\nimport { jsx } from \\\"theme-ui\\\";\\n\\nconst BuyButton = ({ id, title, price, image, description, url, path }) => (\\n  <button\\n    sx={{\\n      fontFamily: \\\"heading\\\",\\n      fontWeight: \\\"bold\\\",\\n      border: \\\"1px solid\\\",\\n      borderRadius: \\\"5px\\\",\\n      padding: \\\"0.35em 1.2em\\\",\\n      borderColor: \\\"secondaryDarker\\\",\\n      backgroundColor: \\\"secondary\\\",\\n      color: \\\"background\\\",\\n      cursor: \\\"pointer\\\",\\n      textTransform: \\\"uppercase\\\",\\n      height: \\\"2.5em\\\",\\n      \\\"&:hover\\\": {\\n        color: \\\"accent\\\",\\n        backgroundColor: \\\"background\\\",\\n        fontWeight: \\\"bold\\\"\\n      },\\n      \\\"&:active\\\": {\\n        boxShadow: \\\"-1px 1px #00001F\\\"\\n      }\\n    }}\\n    className=\\\"snipcart-add-item\\\"\\n    data-item-id={id}\\n    data-item-price={price}\\n    data-item-image={image}\\n    data-item-name={title}\\n    data-item-description={description}\\n    data-item-url={url + path}\\n    data-item-stackable={true}\\n    data-item-has-taxes-included={true}\\n  >\\n    Buy Now\\n  </button>\\n);\\n\\nexport default BuyButton;\\n\")), mdx(\"p\", null, \"Snipcart works by recognizing the className we add to the element, as well as the path of the product. It also expects certain properties on that element. These are the base properties expected, you can also add variants but we wont cover that here. You can check out the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.snipcart.com/v3/setup/products\"\n  }), \"docs\"), \" for more info.\"), mdx(\"p\", null, \"We can now add the BuyButton to our SingleProduct component.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"/** @jsx jsx */\\nimport { jsx } from \\\"theme-ui\\\";\\nimport BuyButton from \\\"./snipcart/BuyButton\\\";\\n\\nconst SingleProduct = ({ id, title, description, price, image, imageAlt }) => {\\n  return (\\n    <div\\n      sx={{\\n        display: \\\"flex\\\",\\n        flexDirection: \\\"column\\\",\\n        border: \\\"solid 2px\\\",\\n        borderColor: \\\"secondaryDarker\\\",\\n        width: \\\"100%\\\",\\n        height: \\\"auto\\\",\\n        padding: \\\"1.5em\\\"\\n      }}\\n    >\\n      <p\\n        sx={{\\n          fontFamily: \\\"heading\\\",\\n          fontSize: \\\"2em\\\",\\n          textAlign: \\\"center\\\"\\n        }}\\n      >\\n        {title}\\n      </p>\\n      <div\\n        sx={{\\n          width: \\\"100%\\\",\\n          height: \\\"auto\\\"\\n        }}\\n      >\\n        <img src={image} width=\\\"400px\\\" alt={imageAlt} />\\n      </div>\\n      <p\\n        sx={{\\n          fontFamily: \\\"heading\\\",\\n          fontSize: \\\"1em\\\"\\n        }}\\n      >\\n        {description}\\n      </p>\\n      <BuyButton\\n        id={id}\\n        title={title}\\n        price={price}\\n        description={description}\\n        image={image}\\n        url=\\\"https://<your-netily-site-name>.netlify.com/\\\"\\n        path=\\\"/store\\\"\\n      />\\n    </div>\\n  );\\n};\\n\\nexport default SingleProduct;\\n\")), mdx(\"p\", null, \"Now as you can see above i have used the netlify deployed url for the product url. When in dev you van use localhost:8910. The reason i left this in the example is to try and remind you that you will have to change this when deploying otherwise snipcart wont recognize the products url. On that note lets commit and push our changes.\"), mdx(\"p\", null, \"Our site is ready to go live. We have setup a simple ecommerce website with minimal effort. Of course there is much more we can do, and will do! I wont cover deployment in this tutorial, you can check the awesome \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://redwoodjs.com/tutorial/deployment\"\n  }), \"docs\"), \". In the next tutorial we will add \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.netlify.com/visitor-access/identity/\"\n  }), \"Netlify Identity\"), \" with a protected route so that our admins can add and edit products from within the website. I hope you enjoyed this, let me know what you think on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/studio_hungry\"\n  }), \"twitter\"), \"! \\uD83D\\uDE0A\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport AccentBox from \"../src/components/site/blog/accent-box.js\";\nexport const _frontmatter = {\n  \"title\": \"Redwood ecommerce with Snipcart\",\n  \"date\": \"2020-03-25T00:00:00.000Z\",\n  \"published\": true,\n  \"category\": \"Tutorial\",\n  \"author\": \"Richard Haines\",\n  \"keywords\": [\"javascript\", \"redwoodjs\", \"tutorial\", \"snipcart\", \"ecommerce\"],\n  \"pin\": false\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <p>{`Im my previous post `}<a parentName=\"p\" {...{\n        \"href\": \"/first-look-at-redwoodjs\"\n      }}>{`First look at RedwoodJS`}</a>{` i took a look at Redwood with fresh eyes and documented what i found interesting. I did have an idea to just outline adding snipcart to a RedwoodJS project but as i went through the process and took notes i came to the conclusion that maybe a tutorial would be a better way to go.`}</p>\n    <p>{`So this is what you might call a simple tutorial, by that i mean that we are not going to make a full blown ecommerce website, rather we are going to setup a RedwoodJS site and add snipcart to it. By the end of this tutorial we will have a website up and running and be able to sell products. Lets GOOOOOOOO ðŸ•º`}</p>\n    <AccentBox mdxType=\"AccentBox\">\n  This tutorial assumes that you have never used RedwoodJS, that you havent even\n  read my previous first look post!! OMG!\n    </AccentBox>\n    <p>{`The end result will look like this: `}<a parentName=\"p\" {...{\n        \"href\": \"https://redwood-snipcart.netlify.com/\"\n      }}>{`redwood-snipcart.netlify.com`}</a>{`, except we are going to go one better. We are going to add an admin route with CRUD operations that is accessed via sign up and login using Netlify Identity. ðŸ˜±`}</p>\n    <p>{`From the command line lets create our RedwoodJS project:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn create redwood-app <whatever-you-want-to-call-it>\n`}</code></pre>\n    <p>{`Create a new repo in github and give it the same name you used when creating your RedwoodJS app. Now navigate into the projects root and create a git repo.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`git init\ngit add .\ngit commit -m \"My first commit\"\ngit remote add origin <your-github-repo-url>\ngit push -u origin master\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"base-layout-and-project-files\"\n    }}>{`Base layout and project files`}</h3>\n    <p>{`We are going to use `}<a parentName=\"p\" {...{\n        \"href\": \"https://theme-ui.com/\"\n      }}>{`Theme-ui`}</a>{` to style our website because its super simple and powerful. Lets install it, remembering that we are working in yarn workspaces so we need to prefix our install with workspaces and the workspace we want to install the package in.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn workspace web add theme-ui\n`}</code></pre>\n    <p>{`Now that we have theme-ui installed we need to add it to our project. In the index.js file located at the web projects root add the ThemeProvider component.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import ReactDOM from \"react-dom\";\nimport { RedwoodProvider, FatalErrorBoundary } from \"@redwoodjs/web\";\nimport FatalErrorPage from \"src/pages/FatalErrorPage\";\nimport { ThemeProvider } from \"theme-ui\";\nimport theme from \"./theme\";\n\nimport Routes from \"src/Routes\";\n\nimport \"./scaffold.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <FatalErrorBoundary page={FatalErrorPage}>\n      <RedwoodProvider>\n        <Routes />\n      </RedwoodProvider>\n    </FatalErrorBoundary>\n  </ThemeProvider>,\n  document.getElementById(\"redwood-app\")\n);\n`}</code></pre>\n    <p>{`We are wrapping the ThemeProvider around our whole app so that everything gets our styles. But where are those styles coming from i hear you ask? That would be the theme.js file. Lets create that now inside our src directory.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`export default {\n  useCustomProperties: false,\n  fonts: {\n    body: \"Open Sans\",\n    heading: \"Montserrat\"\n  },\n  fontWeights: {\n    body: 300,\n    heading: 400,\n    bold: 700\n  },\n  lineHeights: {\n    body: \"110%\",\n    heading: 1.125,\n    tagline: \"100px\"\n  },\n  letterSpacing: {\n    body: \"2px\",\n    text: \"5px\"\n  },\n  colors: {\n    text: \"#FFFfff\",\n    background: \"#1a202c\",\n    primary: \"#000010\",\n    secondary: \"#E7E7E9\",\n    secondaryDarker: \"#2d3748\",\n    accent: \"#DE3C4B\"\n  },\n  breakpoints: [\"40em\", \"56em\", \"64em\"]\n};\n`}</code></pre>\n    <p>{`Its all pretty self explanatory but if you need a reresh or have no idea what the hell this is then you can check our the `}<a parentName=\"p\" {...{\n        \"href\": \"https://theme-ui.com/theming\"\n      }}>{`Theme-ui docs`}</a>{`.`}</p>\n    <p>{`Ok nice. You don't need to run the project yet, lets do it blind and be surprised by the results!! Our standard RedwoodJS project gives us folders but not much else in the way of pages or components. Lets add our home page via the RedwoodJS CLI.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn rw g page home /\n`}</code></pre>\n    <p>{`So what is going on here i hear you scream at the screen?? Well we are basically saying redwood (rw) can you generate (g) a page called home at route (/) which as we all know, because we are all professionals here, the root route.`}</p>\n    <p>{`RedwoodJS will now generate two new files, one called HomePage (RedwoodJS prefixes the name we give in the command with page, because its nice like that) and a test file. Which passes! Of course this is just a render test and if we add more logic we should add tests for it in this file.`}</p>\n    <p>{`We can leave the home page for a second and run some more RedwoodJS CLI commands because they are amazing and give us lots of stuff for free! All together now....`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn rw g page contact\nyarn rw g layout main\n`}</code></pre>\n    <p>{`We wont go through actually adding the contact form page in this tutorial but you can check the `}<a parentName=\"p\" {...{\n        \"href\": \"https://redwoodjs.com/tutorial/everyone-s-favorite-thing-to-build-forms\"\n      }}>{`RedwoodJS docs`}</a>{` to get a good idea of how to do it and why they are pretty sweet.`}</p>\n    <p>{`We have created a contact page and a layout which we have called main. Our MainLayout component which was created in a new folder called MainLayout will hold the layout to our website. This is a common pattern used in Gatsby where you create a layout component and import and wrap all other components that are children to it. Lets take a look at out MainLayout component.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import { Container } from \"theme-ui\";\n\nconst MainLayout = ({ children }) => {\n  return (\n    <Container\n      sx={{\n        maxWidth: 1024\n      }}\n    >\n      <main>{children}</main>\n    </Container>\n  );\n};\n\nexport default MainLayout;\n`}</code></pre>\n    <p>{`Pretty simple right? But we want to have a header on all our pages which displays our website name and any links we may have to other pages in our site. Lets make that now.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\nimport { Link, routes } from \"@redwoodjs/router\";\n\nconst Header = () => {\n  return (\n    <header\n      sx={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        borderBottom: \"solid 2px\",\n        borderColor: \"secondaryDarker\"\n      }}\n    >\n      <h1>\n        <Link\n          sx={{\n            fontFamily: \"heading\",\n            fontWeight: 400,\n            color: \"text\",\n            textDecoration: \"none\",\n            \":hover\": {\n              color: \"accent\"\n            }\n          }}\n          to={routes.home()}\n        >\n          Redwood - Snipcart\n        </Link>\n      </h1>\n      <nav\n        sx={{\n          display: \"flex\",\n          justifyContent: \"space-evenly\",\n          width: \"15em\"\n        }}\n      >\n        <Link\n          sx={{\n            fontFamily: \"heading\",\n            fontWeight: 400,\n            color: \"text\",\n            \":hover\": {\n              color: \"accent\"\n            }\n          }}\n          to={routes.contact()}\n        >\n          Contact\n        </Link>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n`}</code></pre>\n    <p>{`Lets add our Header component to the MainLayout to complete it.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import { Container } from \"theme-ui\";\nimport Header from \"src/components/Header\";\n\nconst MainLayout = ({ children }) => {\n  return (\n    <Container\n      sx={{\n        maxWidth: 1024\n      }}\n    >\n      <Header />\n      <main>{children}</main>\n    </Container>\n  );\n};\n\nexport default MainLayout;\n`}</code></pre>\n    <p>{`We still don't know what this looks like! (unless you cheated and looked at the example site!) Lets carry on regardless. We'll use our new layout component to wrap the content of our home page, thus providing us with a consistent look to our site whatever page our visitors are on. Of course we can have different layouts for different pages and if we wanted to do that we could either create them ourselves or use the RedwoodJS CLI to create them for us.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\nimport MainLayout from \"src/layouts/MainLayout/MainLayout\";\n\nconst HomePage = () => {\n  return (\n    <MainLayout>\n      <h2\n        sx={{\n          fontFamily: \"body\",\n          fontWeight: 400\n        }}\n      >\n        Super Duper Ecommerce Website\n      </h2>\n      <p\n        sx={{\n          fontFamily: \"body\",\n          fontWeight: 400\n        }}\n      >\n        Some text here explaining how great your website is!\n      </p>\n    </MainLayout>\n  );\n};\n\nexport default HomePage;\n`}</code></pre>\n    <p>{`Note that we don't specify the route like we did when creating the home page (/), this is because RedwoodJS is clever enough to know that we want a new page at he route for the given name. By specifying / in our home page creating we are telling RedwoodJS that this will be our main page/route. Note that when creating pages via the CLI we can use more than one word for our pages but they have to conform to a standard that tells the CLI that is is in fact two word that will be joined together. Any of the following will work.`}</p>\n    <p>{`Taken from the RedwoodJS docs:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn rw g cell blog_posts\nyarn rw g cell blog-posts\nyarn rw g cell blogPosts\nyarn rw g cell BlogPosts\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"adding-some-purchase-power\"\n    }}>{`Adding some purchase power`}</h3>\n    <p>{`Before we dive into the graphql schema we will add our snipcart script. You will need to create an account with `}<a parentName=\"p\" {...{\n        \"href\": \"https://snipcart.com/\"\n      }}>{`snipcart`}</a>{`, once done open the dashboard and click the little person icon in the top right hand corner. You'll want to go to domains & urls first and add localhost:8910 to the domain filed and hit save. This will tell snipcart to look for this domain in dev. Keep the protocal as http as thats what RedwoodJS uses for local dev. Next scroll down to api keys and copy the first line of the code they say to copy. For example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<link\n  rel=\"stylesheet\"\n  href=\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.css\"\n/>\n`}</code></pre>\n    <p>{`Open the index.html file at the web projects root and past the style sheet into the head element. next copy the div ans script tags and paste them inside the body tag but below the div with id of redwood-app. It should look like this except your api key will be different.`}</p>\n    <AccentBox mdxType=\"AccentBox\">\n  You can use this api key and keep it in your html file which will be committed\n  to git because, and i quote \"The public API key is the key you need to add on\n  your website when including the snipcart.js file. This key can be shared\n  without security issues because it only allows a specific subset of API\n  operations.\"\n    </AccentBox>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" />\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <link\n      rel=\"stylesheet\"\n      href=\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.css\"\n    />\n    <title><%= htmlWebpackPlugin.options.title %></title>\n  </head>\n  <body>\n    <div id=\"redwood-app\"></div>\n    <div id=\"snipcart\" data-api-key=\"<your-api-key-here>\" hidden></div>\n    <script src=\"https://cdn.snipcart.com/themes/v3.0.10/default/snipcart.js\"></script>\n  </body>\n</html>\n`}</code></pre>\n    <p>{`Now that we have added snipcart to our site we can start up our site and see whats what.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn rw dev\n`}</code></pre>\n    <p>{`Open your dev tools and check the elements tab, check the head and body tags for the snipcart tags/scripts. Don't worry if you don't see your api key in the div at the bottom of the body tag, you're not supposed too. Snipcart will handle that for us. Check your console for any errors and sit back because there aren't any. (i hope ðŸ˜¶)`}</p>\n    <h3 {...{\n      \"id\": \"adding-product-models-the-the-graphql-schema\"\n    }}>{`Adding product models the the graphql schema`}</h3>\n    <p>{`Close the web directory and open the api directory. Remove the commented code and add the following product model.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`model Product {\n  id          Int @id @default(autoincrement())\n  title       String\n  description String\n  price       String\n  image       String\n  imageAlt    String\n}\n`}</code></pre>\n    <p>{`Next we want to take a snapshot as migration and then apply it. This reminds me of when i used to work with Entity Framework back in my C# days, oh the memories.... ðŸ¥´`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn rw db save // create the local database\nyarn rw db up // apply the migration and create the table\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"react-react-react\"\n    }}>{`React, React, React!`}</h3>\n    <p>{`Lets code some components. We'll use the RedwoodJS CLI to scaffold out some CRUD components for us.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn rw g scaffold product\n`}</code></pre>\n    <p>{`This is some kinda magic. We now have numerous files in our components folder.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`EditProductCell`}</li>\n      <li parentName=\"ul\">{`NewProduct`}</li>\n      <li parentName=\"ul\">{`ProductForm`}</li>\n      <li parentName=\"ul\">{`Products`}</li>\n      <li parentName=\"ul\">{`ProductsCell`}</li>\n    </ul>\n    <p>{`These files each provide us with admin functionality to manipulate our sites data.`}</p>\n    <AccentBox mdxType=\"AccentBox\">\n  Go through each file and look at the queries at the top of the file. For some\n  reason they will say posts instead of product(s), change them otherwise\n  nothing will work. Also change the query names.\n    </AccentBox>\n    <p>{`We are going to leave the styling as it is as thats not the focus of this tutorial, but its would be very easy to just remove all the class names and replace them with an sx prop with our theme styles.`}</p>\n    <p>{`Open Product.js and change the image table tr - td to return an img tag.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`<tr className=\"odd:bg-gray-100 even:bg-white border-t\">\n  <td className=\"font-semibold p-3 text-right md:w-1/5\">Image</td>\n  <td className=\"p-3\">\n    <img src={product.Image} alt={product.imageAlt} />\n  </td>\n</tr>\n`}</code></pre>\n    <p>{`Do the same in the Products.js file except add a width of 150px to the img element tag otherwise the image will be huge in the table that displays them.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`<td className=\"p-3\">\n  <img src={truncate(product.image)} width=\"150px\" alt={imageAlt} />\n</td>\n`}</code></pre>\n    <p>{`For this tutorial we will be using some random images form unsplash. We will use a special url with a collection id to get random images for each of our products. Open a new tab and navigate to `}<a parentName=\"p\" {...{\n        \"href\": \"https://source.unsplash.com/\"\n      }}>{`https://source.unsplash.com/`}</a>{`. an example url that we will use looks like this: `}<a parentName=\"p\" {...{\n        \"href\": \"https://source.unsplash.com/collection/190727/1600x900\"\n      }}>{`https://source.unsplash.com/collection/190727/1600x900`}</a>{`, pick a fitting alt tag.`}</p>\n    <p>{`Lets create a new cell to handle showing all our products. A cell in RedwoodJS is basically a file that contains.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`A query to fetch the data we want to showing`}</li>\n      <li parentName=\"ul\">{`A loading function to show when the data is loading`}</li>\n      <li parentName=\"ul\">{`An empty function to show if there is no data to show`}</li>\n      <li parentName=\"ul\">{`A failure function to show when the request has failed to fetch any data`}</li>\n      <li parentName=\"ul\">{`A success function which will show the data`}</li>\n    </ul>\n    <p>{`Go ahead and add some products by navigating to http//:localhost:8910/products`}</p>\n    <p>{`We can forget about styling the first three and concentrate on then success function. Lets create this cell.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`yarn rw g cell allProducts\n`}</code></pre>\n    <AccentBox mdxType=\"AccentBox\">\n  We will need to change the query name to products to match our schema. Also\n  change it as the prop in the success function.\n    </AccentBox>\n    <p>{`Now in our components folder create a new component called ProductsContainer.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\n\nconst ProductsContainer = ({ children }) => (\n  <div\n    sx={{\n      margin: \"2em auto\",\n      display: \"grid\",\n      gridAutoRows: \"auto\",\n      gridTemplateColumns: \"repeat(auto-fill, minmax(auto, 450px))\",\n      gap: \"1.5em\",\n      justifyContent: \"space-evenly\",\n      width: \"100%\"\n    }}\n  >\n    {children}\n  </div>\n);\n\nexport default ProductsContainer;\n`}</code></pre>\n    <p>{`Next create a SingleProduct component.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\n\nconst SingleProduct = ({ id, title, description, price, image, imageAlt }) => {\n  return (\n    <div\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        border: \"solid 2px\",\n        borderColor: \"secondaryDarker\",\n        width: \"100%\",\n        height: \"auto\",\n        padding: \"1.5em\"\n      }}\n    >\n      <p\n        sx={{\n          fontFamily: \"heading\",\n          fontSize: \"2em\",\n          textAlign: \"center\"\n        }}\n      >\n        {title}\n      </p>\n      <div\n        sx={{\n          width: \"100%\",\n          height: \"auto\"\n        }}\n      >\n        <img src={image} width=\"400px\" alt={imageAlt} />\n      </div>\n      <p\n        sx={{\n          fontFamily: \"heading\",\n          fontSize: \"1em\"\n        }}\n      >\n        {description}\n      </p>\n    </div>\n  );\n};\n\nexport default SingleProduct;\n`}</code></pre>\n    <p>{`Now we can add them to our success function in AllProductsCell.js and pass in the product data.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`export const Success = ({ products }) => {\n  console.log({ products });\n  return (\n    <ProductsContainer>\n      {products.map(product => (\n        <SingleProduct\n          key={product.id}\n          id={product.id}\n          title={product.title}\n          description={product.description}\n          price={product.price}\n          image={product.image}\n          imageAlt={product.imageAlt}\n        />\n      ))}\n    </ProductsContainer>\n  );\n};\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"how-do-we-buy-stuff\"\n    }}>{`How do we buy stuff?`}</h3>\n    <p>{`So we have our products on our site but we cant yet buy them. Lets use snipcart to add a buy button. Its really easy, i promise! Create a snipcart folder inside the components folder and add a file called BuyButton.js. Lets add the content then go through it.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\n\nconst BuyButton = ({ id, title, price, image, description, url, path }) => (\n  <button\n    sx={{\n      fontFamily: \"heading\",\n      fontWeight: \"bold\",\n      border: \"1px solid\",\n      borderRadius: \"5px\",\n      padding: \"0.35em 1.2em\",\n      borderColor: \"secondaryDarker\",\n      backgroundColor: \"secondary\",\n      color: \"background\",\n      cursor: \"pointer\",\n      textTransform: \"uppercase\",\n      height: \"2.5em\",\n      \"&:hover\": {\n        color: \"accent\",\n        backgroundColor: \"background\",\n        fontWeight: \"bold\"\n      },\n      \"&:active\": {\n        boxShadow: \"-1px 1px #00001F\"\n      }\n    }}\n    className=\"snipcart-add-item\"\n    data-item-id={id}\n    data-item-price={price}\n    data-item-image={image}\n    data-item-name={title}\n    data-item-description={description}\n    data-item-url={url + path}\n    data-item-stackable={true}\n    data-item-has-taxes-included={true}\n  >\n    Buy Now\n  </button>\n);\n\nexport default BuyButton;\n`}</code></pre>\n    <p>{`Snipcart works by recognizing the className we add to the element, as well as the path of the product. It also expects certain properties on that element. These are the base properties expected, you can also add variants but we wont cover that here. You can check out the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.snipcart.com/v3/setup/products\"\n      }}>{`docs`}</a>{` for more info.`}</p>\n    <p>{`We can now add the BuyButton to our SingleProduct component.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\nimport BuyButton from \"./snipcart/BuyButton\";\n\nconst SingleProduct = ({ id, title, description, price, image, imageAlt }) => {\n  return (\n    <div\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        border: \"solid 2px\",\n        borderColor: \"secondaryDarker\",\n        width: \"100%\",\n        height: \"auto\",\n        padding: \"1.5em\"\n      }}\n    >\n      <p\n        sx={{\n          fontFamily: \"heading\",\n          fontSize: \"2em\",\n          textAlign: \"center\"\n        }}\n      >\n        {title}\n      </p>\n      <div\n        sx={{\n          width: \"100%\",\n          height: \"auto\"\n        }}\n      >\n        <img src={image} width=\"400px\" alt={imageAlt} />\n      </div>\n      <p\n        sx={{\n          fontFamily: \"heading\",\n          fontSize: \"1em\"\n        }}\n      >\n        {description}\n      </p>\n      <BuyButton\n        id={id}\n        title={title}\n        price={price}\n        description={description}\n        image={image}\n        url=\"https://<your-netily-site-name>.netlify.com/\"\n        path=\"/store\"\n      />\n    </div>\n  );\n};\n\nexport default SingleProduct;\n`}</code></pre>\n    <p>{`Now as you can see above i have used the netlify deployed url for the product url. When in dev you van use localhost:8910. The reason i left this in the example is to try and remind you that you will have to change this when deploying otherwise snipcart wont recognize the products url. On that note lets commit and push our changes.`}</p>\n    <p>{`Our site is ready to go live. We have setup a simple ecommerce website with minimal effort. Of course there is much more we can do, and will do! I wont cover deployment in this tutorial, you can check the awesome `}<a parentName=\"p\" {...{\n        \"href\": \"https://redwoodjs.com/tutorial/deployment\"\n      }}>{`docs`}</a>{`. In the next tutorial we will add `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.netlify.com/visitor-access/identity/\"\n      }}>{`Netlify Identity`}</a>{` with a protected route so that our admins can add and edit products from within the website. I hope you enjoyed this, let me know what you think on `}<a parentName=\"p\" {...{\n        \"href\": \"https://twitter.com/studio_hungry\"\n      }}>{`twitter`}</a>{`! ðŸ˜Š`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}